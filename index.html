<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GovWare2025 Network Access</title>
  <style>
    :root {
      color-scheme: light dark;
      --bg: #0b0c10;
      --panel: #fff;
      --text: #1f2833;
      --muted: #6b7280;
      --primary: #0ea5e9;
      --primary-contrast: #fff;
      --border: #e5e7eb;
    }
    @media (prefers-color-scheme: dark) {
      :root {
        --panel: #111827;
        --text: #e5e7eb;
        --muted: #9ca3af;
        --border: #1f2937;
      }
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background: linear-gradient(135deg, #0ea5e933, transparent 60%), linear-gradient(45deg, #10b98133, transparent 60%);
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 0;
      min-height: 100vh;
    }

    .card {
      width: 100%;
      max-width: 520px;
      background: var(--panel);
      color: var(--text);
      border: 1px solid var(--border);
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.15);
      overflow: hidden;
    }

    .banner-wrapper {
      position: relative;
      width: 100%;
    }

    .banner {
      width: 100%;
      height: auto;
      display: block;
      max-width: 100vw;
    }

    .logo-overlay {
      position: absolute;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      height: 80px;
      width: auto;
      z-index: 10;
    }

    .container {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 24px;
      padding: 24px;
      flex: 1;
      justify-content: center;
    }

    .header {
      padding: 20px 24px;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .badge {
      background: #0ea5e91a;
      color: var(--primary);
      border: 1px solid #0ea5e94d;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 600;
      letter-spacing: 0.3px;
    }
    h1 {
      margin: 0;
      font-size: 18px;
    }

    .content { padding: 20px 24px; line-height: 1.6; }
    p { margin: 0 0 12px; color: var(--muted); }

    .terms {
      background: rgba(125,125,125,0.06);
      border: 1px dashed var(--border);
      border-radius: 12px;
      padding: 14px;
      margin: 12px 0 0;
      font-size: 14px;
      color: var(--text);
      max-height: 160px;
      overflow: auto;
    }

    .footer {
      padding: 16px 24px 24px;
      display: grid;
      gap: 12px;
    }
    .check {
      display: flex;
      align-items: start;
      gap: 10px;
      font-size: 14px;
      color: var(--text);
    }
    .check input { margin-top: 2px; }

    button {
      appearance: none;
      border: none;
      background: var(--primary);
      color: var(--primary-contrast);
      font-weight: 600;
      padding: 12px 16px;
      border-radius: 10px;
      cursor: pointer;
      transition: transform 0.04s ease, opacity 0.2s ease;
    }
    button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    button:active { transform: translateY(1px); }

    /* Mobile responsive styles */
    @media (max-width: 768px) {
      .logo-overlay {
        height: 50px;
        top: 10px;
      }

      .container {
        padding: 16px;
        gap: 16px;
      }

      .card {
        border-radius: 12px;
      }

      .header {
        padding: 16px;
      }

      h1 {
        font-size: 16px;
      }

      .content {
        padding: 16px;
      }

      .footer {
        padding: 12px 16px 16px;
      }

      .terms {
        font-size: 13px;
        max-height: 200px;
      }
    }

    @media (max-width: 480px) {
      .logo-overlay {
        height: 40px;
        top: 8px;
      }

      h1 {
        font-size: 14px;
      }

      .badge {
        font-size: 10px;
        padding: 3px 8px;
      }

      .terms {
        font-size: 12px;
      }
    }
  </style>
</head>
<body>
  <div class="banner-wrapper">
    <img src="imgs/GW25%20Splash%20Screen%20Background.png" alt="GovWare 2025 Banner" class="banner" />
    <img src="imgs/GW%20+%20SICW%20Logo%20Lock-up%20Full%20Colour.png" alt="GovWare 2025 Logo" class="logo-overlay" />
  </div>
  <div class="container">
    <main class="card" role="main">
      <div class="header">
      <span class="badge">GovWare2025</span>
      <h1>Connecting to GovWare2025 Network</h1>
    </div>

    <div class="content">
        
      <p>To access the GovWare2025 network, you must review and accept the Terms and Conditions.</p>
      <div class="terms" aria-label="Terms and Conditions" tabindex="0">
        <p><strong>IMPORTANT!</strong> The GovWare2025 wireless network available at Sands Expo and Convention Centre is an open 5 GHz network, provided in partnership with Cisco Systems. Cisco Systems and Endace will be using data from the MBS wireless network to provide Security Operation Services and attendee education for GovWare 2025. As with any public Wi-Fi, we recommend following standard best practices such as using a VPN connection, installing a personal firewall, keeping your operating system updated, turning off your wireless adapter when not in use, and disabling ad-hoc (peer-to-peer) capabilities on your device.</p>
        <p>By connecting to the GovWare2025 wireless network, you are consenting all <a href="https://www.govware.sg/code-of-conduct">Terms & Conditions and Code of Conduct of GovWare Conference & Exhibition 2025</a> and our <a href="https://www.govware.sg/data-protection-and-privacy-notice">Data Protection and Privacy Notice</a>.</p>
      </div>
    </div>

    <form class="footer" id="acceptForm">
      <label class="check">
        <input type="checkbox" id="acceptChk" />
        <span>I have read and accept the Terms and Conditions.</span>
      </label>
      <button id="acceptBtn" type="submit" disabled>Accept and Continue</button>
    </form>
  </main>
  </div>

  <script src="/fpjs/v4.min.js"></script>
  <script>
    (function () {
      const chk = document.getElementById('acceptChk');
      const btn = document.getElementById('acceptBtn');
      const form = document.getElementById('acceptForm');
      let fingerprintData = null;

      function sync() {
        btn.disabled = !chk.checked;
      }

      // Initialize FingerprintJS
      async function initFingerprint() {
        try {
          const fpPromise = FingerprintJS.load();
          const fp = await fpPromise;
          const result = await fp.get();
          fingerprintData = {
            visitorId: result.visitorId,
            components: result.components,
            confidence: result.confidence
          };
          console.log('[FingerprintJS] Visitor ID:', result.visitorId);
        } catch (err) {
          console.error('[FingerprintJS] Error:', err);
        }
      }

      chk.addEventListener('change', sync);
      form.addEventListener('submit', function (e) {
        e.preventDefault();
        if (!chk.checked) return;
        
        // Notify the portal server that this client accepted
        fetch('/accept', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(fingerprintData || {}),
          keepalive: true
        }).catch(() => {})
          .finally(() => {
            window.location.href = 'https://www.govware.sg/';
          });
      });

      // Initialize
      sync();
      initFingerprint();
    })();
  </script>
</body>
</html>
